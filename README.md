[![repo standards badge](https://img.shields.io/endpoint?labelColor=231f20&color=005ea5&style=flat&label=MoJ%20Compliant&url=https%3A%2F%2Foperations-engineering-reports.cloud-platform.service.justice.gov.uk%2Fapi%2Fv1%2Fcompliant_public_repositories%2Fendpoint%2Fstaff-device-dhcp-server&logo=data:image/png;base64,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)](https://operations-engineering-reports.cloud-platform.service.justice.gov.uk/public-github-repositories.html#staff-device-dhcp-server)

# Overview

This repository contains the Dockerfile to create the [ISC Kea](https://www.isc.org/kea/) DHCP server docker image. The configuration for this server is managed in the [Admin Portal](https://github.com/ministryofjustice/staff-device-dns-dhcp-admin).

The image is published to [Amazon Web Services ECR](https://aws.amazon.com/ecr/).

## High level diagram
[![](https://mermaid.ink/img/pako:eNq9Vm1PGzkQ_ivW9ksRu9leQo82OiFR3so1R3MsLdIBqia2N3Hj2CvbS5oS_vuNYy9LoEhIJy4fovHs-Jn3Z_cmoZrxpJ-UUs_pBIwjg9NLdakI_sL_57IUlH_7Yrl5XUK_hKxGkfwxMvkO-Uv_GQwEyKAK5uRLa7MHI8nZBsmyneWwNpXkQbUkg92TrJgLRyc3AXlUC8mEGoebA00bVLJrOESRnHA312YajwHgtgmaSkGnZPe8yM6OzsllMnGusv08Hws3qUcdqmf5TChhnVno8nttHUabM15JvZhx5TI3nl8mAaoNz8dOluR4GH1-5LLiZvlVM8jOd09ex8KAMXpuM5Au2PnnpVY8nNAwCBsbAX8FenxUNHXSSnHqxLVwC69-CvVYOW4Uj6cjcHwOC1Jwc-0Lv-YhFMO7aAvBLJvp7x1wEqwVoDoIlc_FVOS2AsptPjw7G54ff8orGOOpu7X9duvtu-2t7bxxvBl9bkafm-igqZn35Rv9dXjyIC2tltiRi5CTAcX0rOnteUHOUGPFek5XAdL3MUDuNRecAzrx7Vr6Rp8MPjwFuzYqAw0sSB9AgqLcRA8RxHs52CsiFq1H3AbzQzBjDCnAHmDdcGja7BwIdTfsa22I8Lgkn7P9j3vD31YtP91vXDBwMAIbrf2DZq0Wxd-DKO-vG4VCYepEctTahz66_4OP3sv5wPqvwNua3WtHSzrhWTwfF3vZp4PdeKJNR67u74DHfSYZWAdlmTHu-5gxZTM2oVUmVGmw8aamrja8GfdH4XafH-4T8T6C7P0nyF-MYLZT9JBq6ZS7i6JHPqykpksetBCOE1wlUlBdNUtAjjgi4howUhpcsqE2DuSvxu8l8Xsvgx-GJKjuc6XvvB8BYDgnndVkdGxY8U6cl85YX3fqaY5mfioCHiBhS41kpC48DYUABisFOeVjJMOGpK5BSBgJiaRP_rl7V_A6m3Prsu5afC3qvRhR2YEZ_NRqNc8w0rXLUJmPpR6BfDC4uVl5t9_gZ94MMfVvgn1eenxSCin7rw4P379_8ybFa3rK-696vV6Us7lgbtLvVj_u3fUUnUYSTXF-03bcWrHbir30UJs5GMaNTZEt0kGNZJ626aV3DfYxBU_8h3_7YEKx_vbiIGoa6q2rSgpu4oqAwvcXW2Plqwf5PoLMqJa6NrEI77Z4j_3-7CI8QkvbD4i0-VR40meSJjNuZiAYfo3deNzLxE34DKmmjyLjJdTS-ZbdomldIefyAyacNgmSg7Q8TaB2ulgomvSx27wx2hcwNjCLVrf_AteQO9I)](https://mermaid-js.github.io/mermaid-live-editor/edit#pako:eNq9Vm1PGzkQ_ivW9ksRu9leQo82OiFR3so1R3MsLdIBqia2N3Hj2CvbS5oS_vuNYy9LoEhIJy4fovHs-Jn3Z_cmoZrxpJ-UUs_pBIwjg9NLdakI_sL_57IUlH_7Yrl5XUK_hKxGkfwxMvkO-Uv_GQwEyKAK5uRLa7MHI8nZBsmyneWwNpXkQbUkg92TrJgLRyc3AXlUC8mEGoebA00bVLJrOESRnHA312YajwHgtgmaSkGnZPe8yM6OzsllMnGusv08Hws3qUcdqmf5TChhnVno8nttHUabM15JvZhx5TI3nl8mAaoNz8dOluR4GH1-5LLiZvlVM8jOd09ex8KAMXpuM5Au2PnnpVY8nNAwCBsbAX8FenxUNHXSSnHqxLVwC69-CvVYOW4Uj6cjcHwOC1Jwc-0Lv-YhFMO7aAvBLJvp7x1wEqwVoDoIlc_FVOS2AsptPjw7G54ff8orGOOpu7X9duvtu-2t7bxxvBl9bkafm-igqZn35Rv9dXjyIC2tltiRi5CTAcX0rOnteUHOUGPFek5XAdL3MUDuNRecAzrx7Vr6Rp8MPjwFuzYqAw0sSB9AgqLcRA8RxHs52CsiFq1H3AbzQzBjDCnAHmDdcGja7BwIdTfsa22I8Lgkn7P9j3vD31YtP91vXDBwMAIbrf2DZq0Wxd-DKO-vG4VCYepEctTahz66_4OP3sv5wPqvwNua3WtHSzrhWTwfF3vZp4PdeKJNR67u74DHfSYZWAdlmTHu-5gxZTM2oVUmVGmw8aamrja8GfdH4XafH-4T8T6C7P0nyF-MYLZT9JBq6ZS7i6JHPqykpksetBCOE1wlUlBdNUtAjjgi4howUhpcsqE2DuSvxu8l8Xsvgx-GJKjuc6XvvB8BYDgnndVkdGxY8U6cl85YX3fqaY5mfioCHiBhS41kpC48DYUABisFOeVjJMOGpK5BSBgJiaRP_rl7V_A6m3Prsu5afC3qvRhR2YEZ_NRqNc8w0rXLUJmPpR6BfDC4uVl5t9_gZ94MMfVvgn1eenxSCin7rw4P379_8ybFa3rK-696vV6Us7lgbtLvVj_u3fUUnUYSTXF-03bcWrHbir30UJs5GMaNTZEt0kGNZJ626aV3DfYxBU_8h3_7YEKx_vbiIGoa6q2rSgpu4oqAwvcXW2Plqwf5PoLMqJa6NrEI77Z4j_3-7CI8QkvbD4i0-VR40meSJjNuZiAYfo3deNzLxE34DKmmjyLjJdTS-ZbdomldIefyAyacNgmSg7Q8TaB2ulgomvSx27wx2hcwNjCLVrf_AteQO9I)

[diagram source](https://mermaid-js.github.io/mermaid-live-editor/edit?gist=https://mermaid-js.github.io/mermaid-live-editor/edit#pako:eNq9Vm1PGzkQ_ivW9ksRu9leQo82OiFR3so1R3MsLdIBqia2N3Hj2CvbS5oS_vuNYy9LoEhIJy4fovHs-Jn3Z_cmoZrxpJ-UUs_pBIwjg9NLdakI_sL_57IUlH_7Yrl5XUK_hKxGkfwxMvkO-Uv_GQwEyKAK5uRLa7MHI8nZBsmyneWwNpXkQbUkg92TrJgLRyc3AXlUC8mEGoebA00bVLJrOESRnHA312YajwHgtgmaSkGnZPe8yM6OzsllMnGusv08Hws3qUcdqmf5TChhnVno8nttHUabM15JvZhx5TI3nl8mAaoNz8dOluR4GH1-5LLiZvlVM8jOd09ex8KAMXpuM5Au2PnnpVY8nNAwCBsbAX8FenxUNHXSSnHqxLVwC69-CvVYOW4Uj6cjcHwOC1Jwc-0Lv-YhFMO7aAvBLJvp7x1wEqwVoDoIlc_FVOS2AsptPjw7G54ff8orGOOpu7X9duvtu-2t7bxxvBl9bkafm-igqZn35Rv9dXjyIC2tltiRi5CTAcX0rOnteUHOUGPFek5XAdL3MUDuNRecAzrx7Vr6Rp8MPjwFuzYqAw0sSB9AgqLcRA8RxHs52CsiFq1H3AbzQzBjDCnAHmDdcGja7BwIdTfsa22I8Lgkn7P9j3vD31YtP91vXDBwMAIbrf2DZq0Wxd-DKO-vG4VCYepEctTahz66_4OP3sv5wPqvwNua3WtHSzrhWTwfF3vZp4PdeKJNR67u74DHfSYZWAdlmTHu-5gxZTM2oVUmVGmw8aamrja8GfdH4XafH-4T8T6C7P0nyF-MYLZT9JBq6ZS7i6JHPqykpksetBCOE1wlUlBdNUtAjjgi4howUhpcsqE2DuSvxu8l8Xsvgx-GJKjuc6XvvB8BYDgnndVkdGxY8U6cl85YX3fqaY5mfioCHiBhS41kpC48DYUABisFOeVjJMOGpK5BSBgJiaRP_rl7V_A6m3Prsu5afC3qvRhR2YEZ_NRqNc8w0rXLUJmPpR6BfDC4uVl5t9_gZ94MMfVvgn1eenxSCin7rw4P379_8ybFa3rK-696vV6Us7lgbtLvVj_u3fUUnUYSTXF-03bcWrHbir30UJs5GMaNTZEt0kGNZJ626aV3DfYxBU_8h3_7YEKx_vbiIGoa6q2rSgpu4oqAwvcXW2Plqwf5PoLMqJa6NrEI77Z4j_3-7CI8QkvbD4i0-VR40meSJjNuZiAYfo3deNzLxE34DKmmjyLjJdTS-ZbdomldIefyAyacNgmSg7Q8TaB2ulgomvSx27wx2hcwNjCLVrf_AteQO9I)

## ISC Kea version

The version of ISC Kea is built from the dockerfile [here](dhcp-service/Dockerfile).

## Documentation

- [Getting Started](documentation/getting-started.md)
- [High Availability Configuration](documentation/high-availability.md)
- [High Availability Testing](documentation/high-availability-testing.md)
- [Performance Testing](documentation/performance-metrics.md)
- [Health Checks](documentation/health-checks.md)
- [Monitoring](documentation/monitoring.md)
- [Deployment](documentation/deployment.md)

## Notes

Kea currently does not support connecting to the database over SSL. See [kea#15](https://github.com/isc-projects/kea/pull/15)
